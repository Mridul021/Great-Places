{"version":3,"sources":["shared/components/UIElements/Card.js","shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js"],"names":["Card","props","className","style","children","Map","mapRef","useRef","center","zoom","useEffect","window","ol","target","current","id","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","ref","PlaceItem","useHttpClient","isLoading","error","sendRequest","clearError","auth","useContext","AuthContext","useState","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","a","process","Authorization","token","onDelete","Fragment","ErrorModal","onClear","Modal","show","onCancel","header","address","contentClass","footerClass","footer","Button","onClick","coordinates","inverse","danger","LoadingSpinner","asOverlay","src","image","alt","title","description","userId","creatorId","to","PlaceList","items","length","map","place","key","descripton","creator","location","onDeletePlace","UserPlaces","loadedPlaces","setLoadedPlaces","useParams","responseData","places","fetchPlaces","deletedPlaceId","prevPlaces","filter"],"mappings":"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","file":"static/js/7.9ec4b1ff.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useRef, useEffect } from 'react';\r\n\r\nimport './Map.css';\r\n\r\nconst Map = props => {\r\n  const mapRef = useRef();\r\n  \r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    new window.ol.Map({\r\n      target: mapRef.current.id,\r\n      layers: [\r\n        new window.ol.layer.Tile({\r\n          source: new window.ol.source.OSM()\r\n        })\r\n      ],\r\n      view: new window.ol.View({\r\n        center: window.ol.proj.fromLonLat([center.lng, center.lat]),\r\n        zoom: zoom\r\n      })\r\n    });\r\n  }, [center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n      id=\"map\"\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n\r\n// import React from 'react';\r\n\r\n// import './Map.css';\r\n\r\n// const Map = props => {\r\n//     return <div className={`map ${props.className}`} style={props.style}>\r\n//         <h1>MAP HERE</h1>\r\n//     </div>\r\n// };\r\n\r\n// export default Map;","import React, { useState, useContext } from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport \"./PlaceItem.css\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport Map from \"../../shared/components/UIElements/Map\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\n\r\nconst PlaceItem = (props) => {\r\n\tconst { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\tconst auth = useContext(AuthContext);\r\n\tconst [showMap, setShowMap] = useState(false);\r\n\tconst [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n\tconst openMapHandler = () => setShowMap(true);\r\n\tconst closeMapHandler = () => setShowMap(false);\r\n\r\n\tconst showDeleteWarningHandler = () => {\r\n\t\tsetShowConfirmModal(true);\r\n\t};\r\n\r\n\tconst cancelDeleteHandler = () => {\r\n\t\tsetShowConfirmModal(false);\r\n\t};\r\n\r\n\tconst confirmDeleteHandler = async () => {\r\n\t\tsetShowConfirmModal(false);\r\n\t\ttry {\r\n\t\t\tawait sendRequest(\r\n\t\t\t\tprocess.env.REACT_APP_BACKEND_URL + `/places/${props.id}`,\r\n\t\t\t\t\"DELETE\",\r\n\t\t\t\tnull,\r\n\t\t\t\t{ Authorization: \"Bearer \" + auth.token }\r\n\t\t\t);\r\n\t\t\tprops.onDelete(props.id);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ErrorModal error={error} onClear={clearError} />\r\n\t\t\t<Modal\r\n\t\t\t\tshow={showMap}\r\n\t\t\t\tonCancel={closeMapHandler}\r\n\t\t\t\theader={props.address}\r\n\t\t\t\tcontentClass='place-item__modal-content'\r\n\t\t\t\tfooterClass='place-item__modal-actions'\r\n\t\t\t\tfooter={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n\t\t\t>\r\n\t\t\t\t<div className='map-container'>\r\n\t\t\t\t\t<Map center={props.coordinates} zoom={16} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tshow={showConfirmModal}\r\n\t\t\t\tonCancel={cancelDeleteHandler}\r\n\t\t\t\theader='Are you sure?'\r\n\t\t\t\tfooterClass='place-item__modal-actions'\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Button inverse onClick={cancelDeleteHandler}>\r\n\t\t\t\t\t\t\tCANCEL\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button danger onClick={confirmDeleteHandler}>\r\n\t\t\t\t\t\t\tDELETE\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<p>Do you really want to proceed and delete this place?</p>\r\n\t\t\t</Modal>\r\n\t\t\t<li className='place-item'>\r\n\t\t\t\t<Card className='place-item__content'>\r\n\t\t\t\t\t{isLoading && <LoadingSpinner asOverlay />}\r\n\t\t\t\t\t<div className='place-item__image'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\r\n\t\t\t\t\t\t\talt={props.title}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='place-item__info'>\r\n\t\t\t\t\t\t<h2>{props.title}</h2>\r\n\t\t\t\t\t\t<h3>{props.address}</h3>\r\n\t\t\t\t\t\t<p>{props.description}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='place-item__actions'>\r\n\t\t\t\t\t\t<Button inverse onClick={openMapHandler}>\r\n\t\t\t\t\t\t\tVIEW ON MAP\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{auth.userId === props.creatorId && (\r\n\t\t\t\t\t\t\t<Button to={`/places/${props.id}`}>EDIT</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{auth.userId === props.creatorId && (\r\n\t\t\t\t\t\t\t<Button danger onClick={showDeleteWarningHandler}>\r\n\t\t\t\t\t\t\t\tDELETE\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</li>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport PlaceItem from \"./PlaceItem\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nimport \"./PlaceList.css\";\r\n\r\nconst PlaceList = (props) => {\r\n\tif (props.items.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className='place-list center'>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<h2>No places found. Maybe create one?</h2>\r\n\t\t\t\t\t<Button to='/places/new'>Share Place</Button>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ul className='place-list'>\r\n\t\t\t{props.items.map((place) => (\r\n\t\t\t\t<PlaceItem\r\n\t\t\t\t\tkey={place.id}\r\n\t\t\t\t\tid={place.id}\r\n\t\t\t\t\timage={place.image}\r\n\t\t\t\t\ttitle={place.title}\r\n\t\t\t\t\tdescripton={place.descripton}\r\n\t\t\t\t\taddress={place.address}\r\n\t\t\t\t\tcreatorId={place.creator}\r\n\t\t\t\t\tcoordinates={place.location}\r\n\t\t\t\t\tonDelete={props.onDeletePlace}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport PlaceList from \"../components/PlaceList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\n\r\nconst UserPlaces = () => {\r\n\tconst [loadedPlaces, setLoadedPlaces] = useState();\r\n\tconst { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\tconst userId = useParams().userId;\r\n\tuseEffect(() => {\r\n\t\tconst fetchPlaces = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`\r\n\t\t\t\t);\r\n\t\t\t\tsetLoadedPlaces(responseData.places);\r\n\t\t\t} catch (err) {}\r\n\t\t};\r\n\t\tfetchPlaces();\r\n\t}, [sendRequest, userId]);\r\n\r\n\tconst placeDeletedHandler = (deletedPlaceId) => {\r\n\t\tsetLoadedPlaces((prevPlaces) =>\r\n\t\t\tprevPlaces.filter((place) => place.id !== deletedPlaceId)\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ErrorModal error={error} onClear={clearError} />\r\n\t\t\t{isLoading && (\r\n\t\t\t\t<div className=\"='center\">\r\n\t\t\t\t\t<LoadingSpinner />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!isLoading && loadedPlaces && (\r\n\t\t\t\t<PlaceList items={loadedPlaces} onDeletePlace={placeDeletedHandler} />\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default UserPlaces;\r\n\r\n/*\r\nconst DUMMY_PLACES = [\r\n\t{\r\n\t\tid: \"p1\",\r\n\t\ttitle: \"Empire State Building\",\r\n\t\tdescription: \"One of the most famous sky scrapers in the world\",\r\n\t\timageUrl:\r\n\t\t\t\"https://images.unsplash.com/photo-1617688319108-cb3bdc88f587?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8ZW1waXJlJTIwc3RhdGUlMjBidWlsZGluZ3xlbnwwfHwwfHw%3D&w=1000&q=80\",\r\n\t\taddress: \"20 W 34th St, New York, NY 10001, United States\",\r\n\t\tlocation: {\r\n\t\t\tlat: 40.7484405,\r\n\t\t\tlng: -73.9878584,\r\n\t\t},\r\n\t\tcreator: \"u1\",\r\n\t},\r\n\t{\r\n\t\tid: \"p2\",\r\n\t\ttitle: \"Empire State Building\",\r\n\t\tdescription: \"One of the most famous sky scrapers in the world\",\r\n\t\timageUrl:\r\n\t\t\t\"https://images.unsplash.com/photo-1617688319108-cb3bdc88f587?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8ZW1waXJlJTIwc3RhdGUlMjBidWlsZGluZ3xlbnwwfHwwfHw%3D&w=1000&q=80\",\r\n\t\taddress: \"20 W 34th St, New York, NY 10001, United States\",\r\n\t\tlocation: {\r\n\t\t\tlat: 40.7484405,\r\n\t\t\tlng: -73.9878584,\r\n\t\t},\r\n\t\tcreator: \"u2\",\r\n\t},\r\n];\r\n*/\r\n"],"sourceRoot":""}